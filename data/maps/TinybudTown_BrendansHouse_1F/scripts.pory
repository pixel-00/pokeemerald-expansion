raw `
.set LOCALID_MOM, 1
.set LOCALID_RIVAL_MOM, 4
.set LOCALID_RIVAL, 7

TinybudTown_BrendansHouse_1F_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, TinybudTown_BrendansHouse_1F_OnTransition
	map_script MAP_SCRIPT_ON_FRAME_TABLE, TinybudTown_BrendansHouse_1F_OnFrame
	.byte 0

TinybudTown_BrendansHouse_1F_OnTransition:
	call_if_eq VAR_INTRO_STATE, 1, TinybudTown_BrendansHouse_1F_EventScript_MoveMomToSink
	call_if_eq VAR_INTRO_STATE, 2, TinybudTown_BrendansHouse_1F_EventScript_MoveMomToStairs
	call_if_eq VAR_INTRO_STATE, 6, TinybudTown_BrendansHouse_1F_EventScript_MoveMomToTV
	end

TinybudTown_BrendansHouse_1F_EventScript_MoveMomToSink::
	setobjectxyperm LOCALID_MOM, 2, 4
	setobjectmovementtype LOCALID_MOM, MOVEMENT_TYPE_FACE_UP
	return

TinybudTown_BrendansHouse_1F_EventScript_MoveMomToStairs::
	setobjectxyperm LOCALID_MOM, 8, 5
	setobjectmovementtype LOCALID_MOM, MOVEMENT_TYPE_FACE_UP
	return

TinybudTown_BrendansHouse_1F_EventScript_MoveMomToTV::
	setobjectxyperm LOCALID_MOM, 4, 5
	setobjectmovementtype LOCALID_MOM, MOVEMENT_TYPE_FACE_UP
	return

@ Many of the below scripts have no gender check because they assume youre in the correct house
@ The below SS Ticket script uses Mays house state by accident(?), but theyre both set identically after the intro
TinybudTown_BrendansHouse_1F_OnFrame:
	map_script_2 VAR_INTRO_STATE, 1, TinybudTown_BrendansHouse_1F_EventScript_GoodMorning
	map_script_2 VAR_INTRO_STATE, 2, TinybudTown_BrendansHouse_1F_EventScript_GoUpstairsToSetClock
	map_script_2 VAR_INTRO_STATE, 6, TinybudTown_BrendansHouse_1F_EventScript_PetalburgGymReport
	map_script_2 VAR_TINYBUD_HOUSES_STATE_MAY, 3, PlayersHouse_1F_EventScript_GetSSTicketAndSeeLatiTV
	.2byte 0

TinybudTown_BrendansHouse_1F_EventScript_GoUpstairsToSetClock::
	lockall
	msgbox PlayersHouse_1F_Text_GoSetTheClock, MSGBOX_DEFAULT
	closemessage
	applymovement OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_PushTowardStairs
	applymovement LOCALID_MOM, TinybudTown_BrendansHouse_1F_Movement_PushTowardStairs
	waitmovement 0
	warp MAP_TINYBUD_TOWN_BRENDANS_HOUSE_2F, 9, 2
	waitstate
	releaseall
	end

TinybudTown_BrendansHouse_1F_Movement_PushTowardStairs:
	walk_up
	step_end

TinybudTown_BrendansHouse_1F_EventScript_GoodMorning::
	lock
	applymovement LOCALID_MOM, TinybudTown_BrendansHouse_1F_Movement_WalkFromSink
	waitmovement 0
    applymovement OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_FaceLeft
    waitmovement 0
	msgbox PlayersHouse_1F_Text_GoodMorningClock, MSGBOX_DEFAULT
	closemessage
	applymovement OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_PushTowardStairs
	waitmovement 0
	warp MAP_TINYBUD_TOWN_BRENDANS_HOUSE_2F, 9, 2
	waitstate
	release
	end

TinybudTown_BrendansHouse_1F_EventScript_PetalburgGymReport::
	lockall
	setvar VAR_0x8004, MALE
	setvar VAR_0x8005, LOCALID_MOM
	goto PlayersHouse_1F_EventScript_PetalburgGymReportMale
	end

TinybudTown_BrendansHouse_1F_EventScript_MeetRival0::
	lockall
	setvar VAR_0x8008, 0
	goto TinybudTown_BrendansHouse_1F_EventScript_MeetRival
	end

TinybudTown_BrendansHouse_1F_EventScript_MeetRival1::
	lockall
	setvar VAR_0x8008, 1
	goto TinybudTown_BrendansHouse_1F_EventScript_MeetRival
	end

TinybudTown_BrendansHouse_1F_EventScript_MeetRival2::
	lockall
	setvar VAR_0x8008, 2
	goto TinybudTown_BrendansHouse_1F_EventScript_MeetRival
	end

TinybudTown_BrendansHouse_1F_EventScript_MeetRival::
	playse SE_EXIT
	delay 10
	addobject LOCALID_RIVAL
	delay 30
	playse SE_PIN
	applymovement LOCALID_RIVAL, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_RIVAL, Common_Movement_Delay48
	waitmovement 0
	call_if_ne VAR_0x8008, 1, TinybudTown_BrendansHouse_1F_EventScript_PlayerFaceBrendan
	playbgm MUS_ENCOUNTER_BRENDAN, TRUE
	call_if_eq VAR_0x8008, 0, TinybudTown_BrendansHouse_1F_EventScript_BrendanApproachPlayer0
	call_if_eq VAR_0x8008, 1, TinybudTown_BrendansHouse_1F_EventScript_BrendanApproachPlayer1
	call_if_eq VAR_0x8008, 2, TinybudTown_BrendansHouse_1F_EventScript_BrendanApproachPlayer2
	msgbox RivalsHouse_1F_Text_BrendanWhoAreYou, MSGBOX_DEFAULT
	closemessage
	call_if_eq VAR_0x8008, 0, TinybudTown_BrendansHouse_1F_EventScript_BrendanGoUpstairs0
	call_if_eq VAR_0x8008, 1, TinybudTown_BrendansHouse_1F_EventScript_BrendanGoUpstairs1
	call_if_eq VAR_0x8008, 2, TinybudTown_BrendansHouse_1F_EventScript_BrendanGoUpstairs2
	playse SE_EXIT
	removeobject LOCALID_RIVAL
	delay 30
	setvar VAR_TINYBUD_RIVAL_STATE, 3
	setvar VAR_TINYBUD_TOWN_STATE, 1
	savebgm MUS_DUMMY
	fadedefaultbgm
	releaseall
	end

TinybudTown_BrendansHouse_1F_EventScript_PlayerFaceBrendan::
	applymovement OBJ_EVENT_ID_PLAYER, Common_Movement_WalkInPlaceFasterDown
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_EventScript_BrendanApproachPlayer0::
	applymovement LOCALID_RIVAL, TinybudTown_BrendansHouse_1F_Movement_BrendanApproachPlayer0
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_EventScript_BrendanApproachPlayer1::
	applymovement LOCALID_RIVAL, TinybudTown_BrendansHouse_1F_Movement_BrendanApproachPlayer1
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_EventScript_BrendanApproachPlayer2::
	applymovement LOCALID_RIVAL, TinybudTown_BrendansHouse_1F_Movement_BrendanApproachPlayer2
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_Movement_BrendanApproachPlayer0:
	walk_in_place_faster_left
	walk_left
	walk_in_place_faster_up
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

TinybudTown_BrendansHouse_1F_Movement_BrendanApproachPlayer1:
	walk_up
	walk_up
	walk_up
	step_end

TinybudTown_BrendansHouse_1F_Movement_BrendanApproachPlayer2:
	walk_in_place_faster_right
	walk_right
	walk_in_place_faster_up
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

TinybudTown_BrendansHouse_1F_EventScript_BrendanGoUpstairs0::
	applymovement OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_PlayerWatchBrendanExit0
	applymovement LOCALID_RIVAL, TinybudTown_BrendansHouse_1F_Movement_BrendanGoUpstairs0
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_EventScript_BrendanGoUpstairs1::
	applymovement OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_PlayerWatchBrendanExit1
	applymovement LOCALID_RIVAL, TinybudTown_BrendansHouse_1F_Movement_BrendanGoUpstairs1
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_EventScript_BrendanGoUpstairs2::
	applymovement OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_PlayerWatchBrendanExit2
	applymovement LOCALID_RIVAL, TinybudTown_BrendansHouse_1F_Movement_BrendanGoUpstairs2
	waitmovement 0
	return

TinybudTown_BrendansHouse_1F_Movement_PlayerWatchBrendanExit0:
	delay_16
	delay_8
	walk_in_place_faster_right
	step_end

TinybudTown_BrendansHouse_1F_Movement_PlayerWatchBrendanExit1:
	delay_16
	delay_8
	walk_in_place_faster_right
	delay_16
	delay_16
	walk_in_place_faster_up
	step_end

TinybudTown_BrendansHouse_1F_Movement_PlayerWatchBrendanExit2:
	delay_16
	delay_8
	walk_in_place_faster_left
	step_end

TinybudTown_BrendansHouse_1F_Movement_BrendanGoUpstairs0:
	walk_in_place_faster_right
	walk_right
	walk_in_place_faster_up
	walk_up
	walk_up
	step_end

TinybudTown_BrendansHouse_1F_Movement_BrendanGoUpstairs1:
	walk_in_place_faster_right
	walk_right
	walk_in_place_faster_up
	walk_up
	walk_up
	walk_in_place_faster_left
	walk_left
	walk_in_place_faster_up
	walk_up
	step_end

TinybudTown_BrendansHouse_1F_Movement_BrendanGoUpstairs2:
	walk_in_place_faster_left
	walk_left
	walk_in_place_faster_up
	walk_up
	walk_up
	step_end

PlayersHouse_1F_Text_GoSetTheClock:
	.string "MOM: {PLAYER}.\p"
	.string "Go set the clock, hon.$"

PlayersHouse_1F_Text_OhComeQuickly:
	.string "MOM: Oh! {PLAYER}, {PLAYER}!\n"
	.string "Quick! Come quickly!$"

PlayersHouse_1F_Text_MaybeDadWillBeOn:
	.string "MOM: Look! It's PETALBURG GYM!\n"
	.string "Maybe DAD will be on!$"

PlayersHouse_1F_Text_ItsOverWeMissedHim:
	.string "MOM: Oh… It's over.\p"
	.string "I think DAD was on, but we missed him.\n"
	.string "Too bad.$"

PlayersHouse_1F_Text_GoIntroduceYourselfNextDoor:
	.string "Oh, yes.\n"
	.string "One of DAD's friends lives in town.\p"
	.string "PROF. BIRCH is his name.\p"
	.string "He lives right next door, so you should\n"
	.string "go over and introduce yourself.$"

PlayersHouse_1F_Text_SeeYouHoney:
	.string "MOM: See you, honey!$"

PlayersHouse_1F_Text_DidYouMeetProfBirch:
	.string "MOM: Did you introduce yourself to\n"
	.string "PROF. BIRCH?$"

PlayersHouse_1F_Text_YouShouldRestABit:
	.string "MOM: How are you doing, {PLAYER}?\n"
	.string "You look a little tired.\p"
	.string "I think you should rest a bit.$"

PlayersHouse_1F_Text_TakeCareHoney:
	.string "MOM: Take care, honey!$"

PlayersHouse_1F_Text_GotDadsBadgeHeresSomethingFromMom:
	.string "MOM: Oh? Did DAD give you that BADGE?\p"
	.string "Then here's something from your MOM!$"

PlayersHouse_1F_Text_DontPushYourselfTooHard:
	.string "Don't push yourself too hard, dear.\n"
	.string "You can always come home.\p"
	.string "Go for it, honey!$"

PlayersHouse_1F_Text_IsThatAPokenav:
	.string "MOM: What is that, honey? A POKéNAV?\n"
	.string "Someone from DEVON gave it to you?\p"
	.string "Well, honey, how about registering\n"
	.string "your mom?\p"
	.string "… … …$"

PlayersHouse_1F_Text_RegisteredMom:
	.string "Registered MOM\n"
	.string "in the POKéNAV.$"

PlayersHouse_1F_Text_ReportFromPetalburgGym:
	.string "INTERVIEWER: …We brought you this\n"
	.string "report from in front of PETALBURG GYM.$"

PlayersHouse_1F_Text_TheresAMovieOnTV:
	.string "There is a movie on TV.\p"
	.string "Two men are dancing on a big piano\n"
	.string "keyboard.\p"
	.string "Better get going!$"

PlayersHouse_1F_Text_TicketFromBrineyCameForYou:
	.string "DAD: Hm?\p"
	.string "Hey, it's {PLAYER}!\p"
	.string "It's been a while since I saw you,\n"
	.string "but you look…stronger, somehow.\p"
	.string "That's the impression I get.\n"
	.string "But your old man hasn't given up yet!\p"
	.string "Oh, yes, I have something for you.\n"
	.string "This came to you from someone named\l"
	.string "MR. BRINEY.$"

PlayersHouse_1F_Text_PortsInSlateportLilycove:
	.string "DAD: Hm, a TICKET for a ferry?\p"
	.string "If I recall, there are ferry ports in\n"
	.string "SLATEPORT and LILYCOVE.$"

PlayersHouse_1F_Text_BetterGetBackToGym:
	.string "I'd better get back to PETALBURG GYM.\p"
	.string "MOM, thanks for looking after the house\n"
	.string "while I'm away.$"

PlayersHouse_1F_Text_DadShouldStayLonger:
	.string "MOM: That DAD of yours…\p"
	.string "He comes home for the first time in a\n"
	.string "while, but all he talks about is POKéMON.\p"
	.string "He should relax and stay a little longer.$"

PlayersHouse_1F_Text_IsThatABreakingStory:
	.string "MOM: Is that a breaking news story?$"

PlayersHouse_1F_Text_LatiEmergencyNewsFlash:
	.string "We bring you this emergency\n"
	.string "news flash!\p"
	.string "In various HOENN locales, there have\n"
	.string "been reports of a BZZT…colored\l"
	.string "POKéMON in flight.\p"
	.string "The identity of this POKéMON is\n"
	.string "currently unknown.\p"
	.string "We now return you to the regular\n"
	.string "movie program.$"

PlayersHouse_1F_Text_WhatColorDidTheySay:
	.string "MOM: {PLAYER}, did you catch that?\p"
	.string "What color did the announcer say\n"
	.string "that POKéMON was?$"

PlayersHouse_1F_Text_StillUnknownPokemon:
	.string "MOM: Well, isn't that something!\n"
	.string "There are still unknown POKéMON.$"
`

movement TinybudTown_BrendansHouse_1F_Movement_WalkFromSink {
    walk_right * 5
}

movement TinybudTown_BrendansHouse_1F_Movement_FaceLeft {
    face_left
}

movement TinybudTown_BrendansHouse_1F_Movement_FaceUp {
    face_up
}

text PlayersHouse_1F_Text_GoodMorningClock {
    format("MOM: Good morning, {PLAYER}!\n Are you all rested up?\p Would you mind setting the clock upstairs? You know how I am with these things.")
}

text PlayersHouse_1F_Text_RunningShoesManual {
    format("This book is titled ‘Principles of Mathematical Analysis’ by Walter Rudin.\p … … … … … … … … … … … … … … … …\p Looks tough!")
}

script PlayersHouse_1F_EventScript_TV {
    lockall
    msgbox(format("It's a documentary about the life of Cynthia, the current Champion of the Sinnoh region.\l … … … … … … … … … … … … … … … …\p Better get going!"))
    releaseall
    end
}

script PlayersHouse_1F_EventScript_MomsKirlia {
	lock
	faceplayer
	waitse
	playmoncry(SPECIES_KIRLIA, CRY_MODE_NORMAL)
	msgbox("Kirlia looks at you curiously.")
	waitmoncry
	release
	end
}

script PlayersHouse_1F_EventScript_GoMeetDadTop {
	lock
	applymovement(LOCALID_MOM, PlayersHouse_1F_Movement_GoMeetDadTop)
	waitmovement(0)
	applymovement(OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_FaceUp)
	waitmovement(0)
	call(PlayersHouse_1F_EventScript_GoMeetDad)
	applymovement(LOCALID_MOM, PlayersHouse_1F_Movement_GoMeetDadTopReturn)
	waitmovement(0)
	release
	end
}

script PlayersHouse_1F_EventScript_GoMeetDadLeft {
	lock
	applymovement(LOCALID_MOM, PlayersHouse_1F_Movement_GoMeetDadLeft)
	waitmovement(0)
	applymovement(OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_FaceLeft)
	waitmovement(0)
	call(PlayersHouse_1F_EventScript_GoMeetDad)
	applymovement(LOCALID_MOM, PlayersHouse_1F_Movement_GoMeetDadLeftReturn)
	waitmovement(0)
	release
	end
}

script PlayersHouse_1F_EventScript_GoMeetDadRight {
	lock
	applymovement(LOCALID_MOM, PlayersHouse_1F_Movement_GoMeetDadRight)
	waitmovement(0)
	applymovement(OBJ_EVENT_ID_PLAYER, TinybudTown_BrendansHouse_1F_Movement_FaceUp)
	waitmovement(0)
	call(PlayersHouse_1F_EventScript_GoMeetDad)
	applymovement(LOCALID_MOM, PlayersHouse_1F_Movement_GoMeetDadRightReturn)
	waitmovement(0)
	release
	end
}

movement PlayersHouse_1F_Movement_GoMeetDadTop {
	walk_up
	walk_right * 6
	walk_down
}

movement PlayersHouse_1F_Movement_GoMeetDadLeft {
	walk_down * 2
	walk_right * 4
}

movement PlayersHouse_1F_Movement_GoMeetDadRight {
	walk_up
	walk_right * 7
	walk_down
}

movement PlayersHouse_1F_Movement_GoMeetDadTopReturn {
	walk_up
	walk_left * 6
	walk_down
	face_right
}

movement PlayersHouse_1F_Movement_GoMeetDadLeftReturn {
	walk_left * 4
	walk_up * 2
	face_right
}

movement PlayersHouse_1F_Movement_GoMeetDadRightReturn {
	walk_up
	walk_left * 7
	walk_down
	face_right
}

script PlayersHouse_1F_EventScript_GoMeetDad {
	msgbox(format("MOM: By the way {PLAYER}, DAD wanted me to tell you to meet him over\l on Route 12.\p Why don't you head over there now, hon?"))
	closemessage
	setvar(VAR_INTRO_STATE, 4)
	return
}